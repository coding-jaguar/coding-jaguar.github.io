<!DOCTYPE html>
<!--Color Pallete-->
<!--Black: #000
    Cream: #FEF7DC
    Brown Cream: #E6DDC6
    link color purple: #4C4C6D
    Greyish Brown: #A19882
-->
<!--Draft: Entire experiment within a form-->
<html>

<head>
    <title> Analog Circuit Virtual Lab</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.6/js/jsplumb.min.js"
        integrity="sha512-yGgPLFnBGQP4L4+2eTbGj0uLoq+CLXmP2+c/hXWdmLYB9jEBfVGjxIqtvFneLCKATOZhDf2YPYG4uSEksWXp+g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- <script src="jsplumb-2.13.1/dist/js/jsplumb.min.js"></script> -->

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
        integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!-- <script type="text/javascript" src="./lib/jsPlumb.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.6/js/jsplumb.js"
        integrity="sha512-Apg1ZeuGs7Z8jiTHs9sonPBemcCMlYprJUOTbT8ytsTaFrAXnBmmmgFsvl2bBUONW26L/5eY9RPhrprozxEhXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="styles.css" rel="stylesheet">
</head>

<body>
    <h1> Experiment 1</h1>
    <form METHOD="POST">
        <div class="container">
            <h2 class="heading"> Student Details </h2>
            <!--Student Details-->
            <div class="details">
                Name: <input type="text" placeholder="Student Name" class="name"><br>
                Roll Number:<input type="text" placeholder="Roll Number" class="rollno"><br>
            </div>

        </div>


        <div class="container">
            <!--AIM-->
            <h2 class="heading"> Aim</h2>
            <p class="aim"> Differential Amplifier using Bipolar Junction Transistor</p>


            <!--OBJECTIVE-->
            <h2 class="heading"> Objective</h2>
            <ol class="objective">
                <li> To Design a differential amplifier for given specifications.</li>
                <li> To measure operating point and small-signal parameters of the differential amplifier and compare it
                    with the theoretical calculation.</li>
                <li> To measure differential-mode gain 𝐴d, common-mode gain 𝐴c and common-mode rejection ratio CMRR of
                    the
                    differential amplifier.</li>
                <li> To measure the percentage of noise and optimize the Common Mode Rejection Ratio.</li>
            </ol>
        </div>
        <div class="container">
            <!--THEORY-->
            <h2 class="heading"> Theory </h2>
            <!-- <p class="theory"> </p> -->

            <p class="theory"> A differential amplifier amplifies the difference between two input signals. Two identical
                emitter based circuits are reconnected to make a basic differential amplifier circuit. The formulae used in
                this experiment are as follows: </p>
            <ol>
               <!--<li>I<sub>E1</sub> = I<sub>E2</sub> = (V<sub>EE</sub> - V<sub>BE</sub>) / 2R<sub>E</sub> +
                    (R<sub>in</sub> / &beta;)</li>
                V<sub>BE silicon</sub>= 0.6 V </br>
                V<sub>BE germanium</sub>= 0.2 V </br>
                &beta; = Gain --> 
    
                <li class="da"><strong>Emitter Current</strong> </br> I<sub>E</sub> = 2I<sub>E1</sub> (&#8757
                    I<sub>E1</sub>+I<sub>E2</sub>)
                    <br>I<sub>E1</sub> = I<sub>E2</sub> = (V<sub>EE</sub> - V<sub>BE</sub>) / 2R<sub>E</sub> +
                    (R<sub>in</sub> / &beta;) <br>
                    V<sub>BE silicon</sub>= 0.6 V </br>
                V<sub>BE germanium</sub>= 0.2 V </br>
                &beta; = Gain </li>
    
                <li class="da"><strong>Collector Voltage</strong> </br> V<sub>C</sub> = V<sub>CC</sub> -I<sub>C</sub>R<sub>C</sub>
                </li>
    
                <li class="da"><strong>Collector to Emitter Voltage</strong> </br> V<sub>CE</sub> = V<sub>CC</sub> + V<sub>BE</sub> - I<sub>C</sub>R<sub>C</sub>
                </li>
                <li class="da"><strong>CMRR:</strong> It is the ratio of differential gain <em>A<sub>d</sub></em> to the common mode gain <em>A<sub>cm</sub></em></li>
            
            </ol>

            <!--COMPONENT REQUIREMENT TABLE-->
            <h2 class="heading"> Component Table </h2>
            <p class="reqtable">Select the necessary equipment/apparatus/components required for this experiment and
                list all of them in below-given space:</p>
        </div>

        <div class="container">

            <table border="1" class="rtable">
                <tr>
                    <th class="innertable">Component Name </th>
                    <th class="innertable"> Specifications</th>
                    <th class="innertable"> Justification</th>
                </tr>
                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                </tr>

                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>

                </tr>


                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                </tr>

                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                </tr>
                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                </tr>
                <tr>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                    <td contenteditable='true'></td>
                </tr>
        </div>
        </table> </br>



        <!--PRE LAB QUIZ-->
        <h2 class="heading"> Pre Lab Quiz</h2>
        <p class="PLQ"> Calculate the operating point of the single-stage amplifier with the following
            specifications:</br> Vcc=+12V, Current Gain=100. RB=10k, VBE=0.7V. RC=4.7k, RE=6.8kΩ. Submit image to show
            calculations. </p>

        <!--https://www.codegrepper.com/code-examples/html/how+to+allow+user+to+upload+an+image+html-->
        <label for="img" class="mcq">Select image:</label>
        <input type="file" class="mcq" name="img" accept="image/*"> </br>
        <input type="submit" class='imgsubmit' align="center">


        <!--<form>
            <strong class="q"> 1. MCQ:</strong><br>
            <input type="radio" name="MCQ" class="mcq"> A. xyz </br>
            <input type="radio" name="MCQ" class="mcq"> B. abc </br>
            <input type="radio" name="MCQ" class="mcq"> C. ijk </br>
        </form> -->


        <!--PROCEDURE-->
        <h2 class="heading">Procedure </h2>
        <ol class="procedure">
            <li>Construct the circuit, measured the quiescent points (no AC signal applied) by connecting both
                bases to ground. Measure the DC values of (𝑉𝑐1, 𝑉𝑐2, 𝑉𝐸, 𝐼𝐵1, 𝐼𝐵2, 𝐼𝐸1, 𝐼𝐸2, 𝐼𝐸) </li>
            <li>Connect the Analog Discovery Kit as Input source as Vin1 and Vin2.</li>
            <li>Calculate the amount of noise in terms of percentage for the measured value of CMRR.</li>
            <li>Optimize the value of CMRR using matching of components values.</li>
        </ol>

        <!--SIMULATION-->
        <h2 class="heading">Simulation</h2>

        <!-- V DC voltage -->

        <img src="conndot.png.jpeg" id="v1_n" class="control" id = "v1_n" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 95px; margin-top: 230px;">

        <img src="conndot.png.jpeg"  class="control" id = "v1_p1" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 300px; margin-top: 95px;">
        <img src="conndot.png.jpeg"  class="control" id = "v1_p2" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 400px; margin-top: 95px;">    
        <img src="conndot.png.jpeg"  class="control" id = "v1_p3" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 500px; margin-top: 95px;">

        
        <img src="conndot.png.jpeg"  class="control" id = "v2_p" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 830px; margin-top: 320px;">
        <img src="conndot.png.jpeg"  class="control" id = "v2_n" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 830px; margin-top: 450px;">

        

        <!-- Ground -->

        <img src="conndot.png.jpeg"  class="control" id = "gnd1" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 90px; margin-top: 320px;">
        <img src="conndot.png.jpeg"  class="control" id = "gnd2" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 390px; margin-top: 320px;">
        <img src="conndot.png.jpeg"  class="control" id = "gnd3" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 480px; margin-top: 320px;">
        <img src="conndot.png.jpeg"  class="control" id = "gnd4" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 665px; margin-top: 320px;">

        <!-- BJT -->

        <img src="conndot.png.jpeg"  class="control" id = "left_bjt_c" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 330px; margin-top: 140px;">
        <img src="conndot.png.jpeg"  class="control" id = "left_bjt_b" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 285px; margin-top: 185px;">

        <img src="conndot.png.jpeg"  class="control" id = "left_bjt_e" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 330px; margin-top: 230px;">
        

        <img src="conndot.png.jpeg"  class="control" id = "right_bjt_c" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 455px; margin-top: 145px;">
        <img src="conndot.png.jpeg"  class="control" id = "right_bjt_b" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 500px; margin-top: 185px;">

        <img src="conndot.png.jpeg"  class="control" id = "right_bjt_e" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 455px; margin-top: 230px;">


        <!-- Resistors -->

        <img src="conndot.png.jpeg"  class="control" id = "r1l" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:560px; margin-top: 60px;">
        <img src="conndot.png.jpeg"  class="control" id = "r1r" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:680px; margin-top: 60px;">
        
        <img src="conndot.png.jpeg"  class="control" id = "r2l" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:720px; margin-top: 60px;">
        <img src="conndot.png.jpeg"  class="control" id = "r2r" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:840px; margin-top: 60px;">

        <img src="conndot.png.jpeg"  class="control" id = "r3l" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:720px; margin-top: 120px;">        
        <img src="conndot.png.jpeg"  class="control" id = "r3r" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:840px; margin-top: 120px;">

        <img src="conndot.png.jpeg"  class="control" id = "r4l" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:720px; margin-top: 185px;">        
        <img src="conndot.png.jpeg"  class="control" id = "r4r" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:840px; margin-top: 185px;">


        <img src="conndot.png.jpeg"  class="control" id = "r5l1" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:720px; margin-top: 250px;">        
        <img src="conndot.png.jpeg"  class="control" id = "r5l2" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left: 740px; margin-top: 250px;">
        <img src="conndot.png.jpeg"  class="control" id = "r5r" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:840px; margin-top: 250px;">


        <!-- AC voltage sources -->

        <img src="conndot.png.jpeg"  class="control" id = "vac1p" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:200px; margin-top: 170px;">
        <img src="conndot.png.jpeg"  class="control" id = "vac1n" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:200px; margin-top: 265px;">

        <img src="conndot.png.jpeg"  class="control" id = "vac2p" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:610px; margin-top: 170px;">
        <img src="conndot.png.jpeg"  class="control" id = "vac2n" alt=""
        style=" position: absolute; height: 2px; width:2px; margin-left:610px; margin-top: 265px;">


        <img src="exp1_diagram.png" alt="DA circuit" class="simulationimage" width="1000" height="500">

        <button id = "check_button" type="button">check</button>
        <button id = "connect_button" type="button">connect</button>
        <button id = "reset_button" type="button">reset</button>

        <br>
        <h2>Resistance values</h2>

        <table style="width:100%">
        <tr>
            <td id = "r1">R1 = </td>
            <td id = "r2">R2 = </td>
            <td id = "r3">R3 = </td>
            <td id = "r4">R4 = </td>
            <td id = "r5">R5 = </td>
        </tr>
        </table>
                



        <!--OBS TABLE-->
        <h2 class="heading">Observations </h2>

        <div class="container">

            <div class="observation">
                <p class="obspara"> 1. Measuring DC Values </p>
                <table border="2" class="obstable" style="width:100px">
                    <tr>
                        <th class="innertable">DC Values </th>
                        <th class="innertable"> V<sub>C1</sub></th>
                        <th class="innertable"> V<sub>C2</sub></th>
                        <th class="innertable">V<sub>E</sub> </th>
                        <th class="innertable"> I<sub>B1</sub></th>
                        <th class="innertable"> I<sub>B2</sub></th>
                        <th class="innertable">I<sub>E1</sub> </th>
                        <th class="innertable"> I<sub>E2</sub></th>
                        <th class="innertable"> I<sub>E</sub></th>
                    </tr>
                    <tr>
                        <td class="innertable"><strong>Measured</strong></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable"><INPUT TYPE="text" size="10"></td>
                    </tr>
                    <!--   
            </tr>
                <td><strong>Calculated</strong></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                <td class="innertable"><INPUT TYPE="text" size="10"></td>
                </tr> -->

                </table>
                </br>

                <!--Observation table 2-->
                <p class="obspara"> 2. Single and Dual Input Mode </p>

                <table style="width:30%">
                    <tr>
                        <td id = "r1">
                            <label for="vin1input">V<sub>in</sub>1:</label>
                            <input type="number" id="vin1input" name="quantity" min="10" max="200" step = "10" style="align-content:left;"></td>
                        
                        <td id = "r2">
                            <label for="vin2input">V<sub>in</sub>2:</label>
                            <input type="number" id="vin2input" name="quantity" min="10" max="200" step = "10">
                        </td>
                        <td>
                            <button type = "button" id="calculate_button"> calculate </button>
                        </td>
                    </tr>      
                </table>

                <table border="2" class="obstable" style="width:100px" id="obs_table">
                    <tr>
                        <th class="innertable"> V<sub>in1</sub> (mV)</th>
                        <th class="innertable"> V<sub>in2</sub>(mV)</th>
                        <th class="innertable"> V<sub>o1</sub></th>
                        <th class="innertable">V<sub>o2</sub> </th>
                        <th class="innertable"> V<sub>o</sub>=V<sub>o1</sub>-V<sub>o2</sub></th>
                        <th class="innertable"> Differential Gain</th>
                        <th class="innertable">Common Mode Gain </th>
                        <th class="innertable"> CMRR (dB)</th>

                    </tr>
                    <tr id="row1">
                        <td class="innertable" id = "vin1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vin2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="dg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmrr"><INPUT TYPE="text" size="10"></td>

                    </tr>

                    <tr id="row2">

                        <td class="innertable" id = "vin1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vin2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="dg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmrr"><INPUT TYPE="text" size="10"></td>
                    </tr>
                    <tr id="row3">

                        <td class="innertable" id = "vin1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vin2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="dg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmrr"><INPUT TYPE="text" size="10"></td>

                    </tr>
                    <tr id="row4">
                        <td class="innertable" id = "vin1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vin2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="dg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmrr"><INPUT TYPE="text" size="10"></td>

                    </tr>
                    <tr id="row5">

                        <td class="innertable" id = "vin1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vin2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo1"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo2"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="vo"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="dg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmg"><INPUT TYPE="text" size="10"></td>
                        <td class="innertable" id="cmrr"><INPUT TYPE="text" size="10"></td>
                    </tr>
                </table>

            </div>

            <p class="obspara"> 2. Calculate the amount of noise in terms of percentage for the measured value of CMRR
            </p>
            <p>Noise % &#61
                <!--equal to sign--> [1 &#43
                <!--+ sign--> (1&#247
                <!--divide sign--> CMRR)(V<sub>cm</sub>&#247 V<sub>id</sub>) &#61
                <input type="text" placeholder="Noise%">
            </p>
            <!--POST LAB QUIZ-->
            <h2 class="heading"> Post Lab Quiz</h2>
            <p class="PLQ"> Plot Voltage Transfer Characteristics of Differential Amplifier in Multisim Software and
                attached simulation results. </p>
            <!--https://www.codegrepper.com/code-examples/html/how+to+allow+user+to+upload+an+image+html-->
            <label for="img" class="mcq">Select image:</label>
            <input type="file" class="mcq" name="img" accept="image/*"> </br>
            <input type="submit" class='imgsubmit' align="center">
            <h2 class="heading">Conclusion</h2>
            <Textarea placeholder="Write conclusion" class="conclusion" cols="160" rows="5"></Textarea>


            <input type="Submit" value="Submit Experiment" class="submit" align="center">
            <input type="Reset" value="Clear Experiment" class="clear" align="center">
        </div>
    </form>

    <script src="script.js"></script>
    <script src="components.js"></script>
</body>

</html>